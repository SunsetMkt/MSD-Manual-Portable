<!DOCTYPE html>
<!--
    MSD-Manual-Portable
    A method to build a portable and offline-available MSD Manual.
    https://github.com/lwd-temp/MSD-Manual-Portable

    Menu Page
    Load index from prebuilt jsonp.
-->
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, shrink-to-fit=no"
    />
    <title>Menu - MSD-Manual-Portable</title>
    <link rel="stylesheet" href="bootstrap.min.css" />
    <script src="jquery.min.js"></script>
    <script src="bootstrap.bundle.min.js"></script>
  </head>

  <body>
    <nav class="navbar navbar-expand-lg navbar-light bg-light">
      <a class="navbar-brand" href="index.html">MSD-Manual-Portable</a>
      <button
        class="navbar-toggler"
        type="button"
        data-toggle="collapse"
        data-target="#navbarNav"
        aria-controls="navbarNav"
        aria-expanded="false"
        aria-label="Toggle navigation"
      >
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbarNav">
        <ul class="navbar-nav">
          <li class="nav-item">
            <a class="nav-link" href="index.html">Home</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="menu.html">Menu</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="search.html">Search</a>
          </li>
          <li class="nav-item">
            <a
              class="nav-link"
              href="https://github.com/lwd-temp/MSD-Manual-Portable"
              >About</a
            >
          </li>
        </ul>
      </div>
    </nav>
    <br />
    <!--Table of Content-->
    <div class="container">
      <div class="row">
        <div class="col-md-12">
          <h1 id="title">Menu - Will NOT Work without JavaScript Enabled</h1>
          <table class="table table-striped">
            <thead>
              <tr>
                <th scope="col">Section</th>
                <th scope="col">Chapter</th>
                <th scope="col">Topic</th>
              </tr>
            </thead>
            <tbody id="menu">
              <tr>
                <td>SectionTitle</td>
                <td>ChapterTitle</td>
                <td>TopicTitle</td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
    </div>
    <!--End of Table of Content-->
    <script>
      var title = document.getElementById("title");

      // Generate the index
      function geneIndex(index) {
        title.innerHTML = "Menu - Generating Index...";
        indexhtml = "";
        // For each section
        for (var i = 0; i < index.sections.length; i++) {
          // We add the section title with h5
          indexhtml +=
            "<tr><td colspan='3'><h5>" +
            index.sections[i].DisplayTitle +
            "</h5></td></tr>";
          // Then we add the chapters with a
          for (var j = 0; j < index.sections[i].chapters.length; j++) {
            indexhtml +=
              "<tr><td></td><td><a href='" +
              index.sections[i].chapters[j].ChapterId +
              ".html'>" +
              index.sections[i].chapters[j].DisplayTitle +
              "</a></td><td></td></tr>";
            // Then we add the topics with a
            for (
              var k = 0;
              k < index.sections[i].chapters[j].Topics.length;
              k++
            ) {
              indexhtml +=
                "<tr><td></td><td></td><td><a href='" +
                index.sections[i].chapters[j].Topics[k].TopicId +
                ".html'>" +
                index.sections[i].chapters[j].Topics[k].DisplayTitle +
                "</a></td></tr>";
            }
          }
        }

        document.getElementById("menu").innerHTML = indexhtml;
        title.innerHTML = "Menu - Index Generated";
      }
    </script>
    <script>
      function index_callback(index) {
        geneIndex(index);
      }
      title.innerHTML = "Menu - Loading Index...";
    </script>
    <script src="index_portable.js"></script>
    <script>
      title.innerHTML = "Menu";
    </script>
  </body>
</html>
